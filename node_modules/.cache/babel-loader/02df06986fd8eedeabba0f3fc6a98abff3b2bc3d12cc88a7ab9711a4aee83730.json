{"ast":null,"code":"import _regeneratorRuntime from\"D:/FES/Practice/ReactProjects/movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/FES/Practice/ReactProjects/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/FES/Practice/ReactProjects/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Search,Theaters}from'@mui/icons-material';import{Avatar}from'@mui/material';import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'./Navigation.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSpinner}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navigation=function Navigation(_ref){var onSearch=_ref.onSearch;var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1];function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$axios$get,data,filteredMovies,loadPromises;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);event.preventDefault();_context.next=4;return axios.get(\"https://www.omdbapi.com/?s=\".concat(inputValue,\"&apikey=2121abfd\"));case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;if(!data.Search){_context.next=14;break;}filteredMovies=[];loadPromises=data.Search.map(function(movie){return new Promise(function(resolve){if(!movie.Poster||movie.Poster==='N/A'){resolve();}else{var img=new Image();img.src=movie.Poster;img.onload=function(){if(this.height>330){filteredMovies.push(movie);}resolve();};}});});_context.next=11;return Promise.all(loadPromises);case 11:onSearch(filteredMovies.slice(0,8),inputValue);_context.next=15;break;case 14:onSearch(null,inputValue);case 15:setLoading(false);setInputValue('');navigate('/search');case 18:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleChange(event){setInputValue(event.target.value);}return/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__left-section\",onClick:function onClick(){return navigate('/');},children:[/*#__PURE__*/_jsx(Theaters,{}),/*#__PURE__*/_jsxs(\"h1\",{className:\"navbar__logo-name\",children:[\"REEL\",/*#__PURE__*/_jsx(\"span\",{style:{color:'#000'},children:\"SPOT\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__right-section\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"navbar__search\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"navbar__search-input\",type:\"text\",placeholder:\"Search by title\",value:inputValue,onChange:handleChange,onKeyDown:function onKeyDown(event){return event.key===\"Enter\"&&handleSubmit(event);}}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar__search-btn\",type:\"submit\",children:loading?/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"navbar__search-spinner\",icon:faSpinner}):/*#__PURE__*/_jsx(Search,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar__profile\",children:/*#__PURE__*/_jsx(Avatar,{style:{width:34,height:34}})})]})]});};export default Navigation;","map":{"version":3,"names":["Search","Theaters","Avatar","axios","React","useState","useNavigate","FontAwesomeIcon","faSpinner","jsx","_jsx","jsxs","_jsxs","Navigation","_ref","onSearch","navigate","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","inputValue","setInputValue","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","_yield$axios$get","data","filteredMovies","loadPromises","wrap","_callee$","_context","prev","next","preventDefault","get","concat","sent","map","movie","Promise","resolve","Poster","img","Image","src","onload","height","push","all","slice","stop","handleChange","target","value","className","children","onClick","style","color","onSubmit","type","placeholder","onChange","onKeyDown","key","icon","width"],"sources":["D:/FES/Practice/ReactProjects/movie-app/src/components/Navigation.jsx"],"sourcesContent":["import { Search, Theaters } from '@mui/icons-material';\r\nimport { Avatar } from '@mui/material';\r\nimport axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Navigation.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Navigation = ({ onSearch }) => {\r\n    let navigate = useNavigate();\r\n    const [loading, setLoading] = useState();\r\n    const [inputValue, setInputValue] = useState('');\r\n\r\n    async function handleSubmit(event) {\r\n        setLoading(true);\r\n        event.preventDefault();\r\n\r\n        const { data } = await axios.get(`https://www.omdbapi.com/?s=${inputValue}&apikey=2121abfd`);\r\n\r\n        if (data.Search) {\r\n            const filteredMovies = [];\r\n\r\n            const loadPromises = data.Search.map(movie => new Promise((resolve) => {\r\n                if (!movie.Poster || movie.Poster === 'N/A') {\r\n                    resolve();\r\n                } else {\r\n                    const img = new Image();\r\n                    img.src = movie.Poster;\r\n                    img.onload = function () {\r\n                        if (this.height > 330) {\r\n                            filteredMovies.push(movie);\r\n                        }\r\n                        resolve();\r\n                    };\r\n                }\r\n            }));\r\n\r\n            await Promise.all(loadPromises);\r\n\r\n            onSearch(filteredMovies.slice(0, 8), inputValue);\r\n        } else {\r\n            onSearch(null, inputValue);\r\n        }\r\n\r\n        setLoading(false);\r\n        setInputValue('');\r\n        navigate('/search');\r\n    }\r\n\r\n    function handleChange(event) {\r\n        setInputValue(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar\">\r\n            <div className=\"navbar__left-section\" onClick={() => navigate('/')}>\r\n                <Theaters />\r\n\r\n                <h1 className='navbar__logo-name'>REEL\r\n                    <span style={{ color: '#000' }}>SPOT</span>\r\n                </h1>\r\n            </div>\r\n\r\n            <div className='navbar__right-section'>\r\n                <form onSubmit={handleSubmit} className='navbar__search'>\r\n                    <input\r\n                        className='navbar__search-input'\r\n                        type=\"text\"\r\n                        placeholder=\"Search by title\"\r\n                        value={inputValue}\r\n                        onChange={handleChange}\r\n                        onKeyDown={(event) => event.key === \"Enter\" && handleSubmit(event)}\r\n                    />\r\n                    <button\r\n                        className=\"navbar__search-btn\"\r\n                        type=\"submit\"\r\n                    >\r\n                        {loading ? <FontAwesomeIcon className='navbar__search-spinner' icon={faSpinner} /> : <Search />}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"navbar__profile\">\r\n                    <Avatar style={{ width: 34, height: 34 }} />\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navigation;\r\n"],"mappings":"uYAAA,OAASA,MAAM,CAAEC,QAAQ,KAAQ,qBAAqB,CACtD,OAASC,MAAM,KAAQ,eAAe,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,kBAAkB,CACzB,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,SAAS,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9D,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC1B,GAAI,CAAAC,QAAQ,CAAGV,WAAW,EAAE,CAC5B,IAAAW,SAAA,CAA8BZ,QAAQ,EAAE,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAoCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAAiB,QAElC,CAAAG,YAAYA,CAAAC,EAAA,SAAAC,aAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,cAAA,EAAAA,aAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAC,QAA4BC,KAAK,MAAAC,gBAAA,CAAAC,IAAA,CAAAC,cAAA,CAAAC,YAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC7BvB,UAAU,CAAC,IAAI,CAAC,CAChBc,KAAK,CAACU,cAAc,EAAE,CAACH,QAAA,CAAAE,IAAA,SAEA,CAAAzC,KAAK,CAAC2C,GAAG,+BAAAC,MAAA,CAA+BvB,UAAU,qBAAmB,QAAAY,gBAAA,CAAAM,QAAA,CAAAM,IAAA,CAApFX,IAAI,CAAAD,gBAAA,CAAJC,IAAI,KAERA,IAAI,CAACrC,MAAM,EAAA0C,QAAA,CAAAE,IAAA,WACLN,cAAc,CAAG,EAAE,CAEnBC,YAAY,CAAGF,IAAI,CAACrC,MAAM,CAACiD,GAAG,CAAC,SAAAC,KAAK,QAAI,IAAI,CAAAC,OAAO,CAAC,SAACC,OAAO,CAAK,CACnE,GAAI,CAACF,KAAK,CAACG,MAAM,EAAIH,KAAK,CAACG,MAAM,GAAK,KAAK,CAAE,CACzCD,OAAO,EAAE,CACb,CAAC,IAAM,CACH,GAAM,CAAAE,GAAG,CAAG,GAAI,CAAAC,KAAK,EAAE,CACvBD,GAAG,CAACE,GAAG,CAAGN,KAAK,CAACG,MAAM,CACtBC,GAAG,CAACG,MAAM,CAAG,UAAY,CACrB,GAAI,IAAI,CAACC,MAAM,CAAG,GAAG,CAAE,CACnBpB,cAAc,CAACqB,IAAI,CAACT,KAAK,CAAC,CAC9B,CACAE,OAAO,EAAE,CACb,CAAC,CACL,CACJ,CAAC,CAAC,GAAC,CAAAV,QAAA,CAAAE,IAAA,UAEG,CAAAO,OAAO,CAACS,GAAG,CAACrB,YAAY,CAAC,SAE/BxB,QAAQ,CAACuB,cAAc,CAACuB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAErC,UAAU,CAAC,CAACkB,QAAA,CAAAE,IAAA,kBAEjD7B,QAAQ,CAAC,IAAI,CAAES,UAAU,CAAC,CAAC,QAG/BH,UAAU,CAAC,KAAK,CAAC,CACjBI,aAAa,CAAC,EAAE,CAAC,CACjBT,QAAQ,CAAC,SAAS,CAAC,CAAC,yBAAA0B,QAAA,CAAAoB,IAAA,MAAA5B,OAAA,GACvB,UAAAN,aAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,QAAS,CAAAiC,YAAYA,CAAC5B,KAAK,CAAE,CACzBV,aAAa,CAACU,KAAK,CAAC6B,MAAM,CAACC,KAAK,CAAC,CACrC,CAEA,mBACIrD,KAAA,QAAKsD,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACnBvD,KAAA,QAAKsD,SAAS,CAAC,sBAAsB,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAApD,QAAQ,CAAC,GAAG,CAAC,EAAC,CAAAmD,QAAA,eAC/DzD,IAAA,CAACT,QAAQ,IAAG,cAEZW,KAAA,OAAIsD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,MAC9B,cAAAzD,IAAA,SAAM2D,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAH,QAAA,CAAC,MAAI,EAAO,GAC1C,GACH,cAENvD,KAAA,QAAKsD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClCvD,KAAA,SAAM2D,QAAQ,CAAE7C,YAAa,CAACwC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACpDzD,IAAA,UACIwD,SAAS,CAAC,sBAAsB,CAChCM,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BR,KAAK,CAAEzC,UAAW,CAClBkD,QAAQ,CAAEX,YAAa,CACvBY,SAAS,CAAE,SAAAA,UAACxC,KAAK,QAAK,CAAAA,KAAK,CAACyC,GAAG,GAAK,OAAO,EAAIlD,YAAY,CAACS,KAAK,CAAC,EAAC,EACrE,cACFzB,IAAA,WACIwD,SAAS,CAAC,oBAAoB,CAC9BM,IAAI,CAAC,QAAQ,CAAAL,QAAA,CAEZ/C,OAAO,cAAGV,IAAA,CAACH,eAAe,EAAC2D,SAAS,CAAC,wBAAwB,CAACW,IAAI,CAAErE,SAAU,EAAG,cAAGE,IAAA,CAACV,MAAM,IAAG,EAC1F,GACN,cAEPU,IAAA,QAAKwD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC5BzD,IAAA,CAACR,MAAM,EAACmE,KAAK,CAAE,CAAES,KAAK,CAAE,EAAE,CAAEpB,MAAM,CAAE,EAAG,CAAE,EAAG,EAC1C,GACJ,GAEJ,CAEd,CAAC,CAED,cAAe,CAAA7C,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}